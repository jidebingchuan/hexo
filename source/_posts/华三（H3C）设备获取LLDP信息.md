---
title: 华三（H3C）设备获取LLDP信息
date: 2013-08-19 12:08:14
tags: 监控
---

### 设备型号

通过LLDP获取对端设备型号：lldpRemSysDesc

节点OID值：1.0.8802.1. 1.2.1.4.1.1.10

获取对端设备型号：

1: lldpRemSysDesc.59952681.210.1 (octet string) H3C Comware software. H3C S12518 Product Version S12500-CMW520-R1729. Copyright (c) 2004-2012 Hangzhou H3C Tech. Co., Ltd. All rights reserved. 

说明：节点的索引59952681.210.1，分三部分，第一部分59952681表示LLDP发现对端设备的时间戳，第二部分210表示本端接口的逻辑端口号（逻辑端口号与端口索引之间的关系参考dot1dBasePortIfIndex，1.3.6.1.2.1.17.1.4.1.2），第三部分1表示远端设备索引，对端设备型号为H3C S12518，版本为S12500-CMW520-R1729。

当发现一个端口有多个相同邻居时，根据节点索引中的时间戳，以时间戳大的值为准。



### 设备名称

通过LLDP获取对端设备名称：lldpRemSysName

节点OID值:1.0.8802.1.1.2.1.4.1.1.9

获取对端设备名称：

1: lldpRemSysName.59952681.210.1 (octet string) zhongxinjifang [7A.68.6F.6E.67.78.69.6E.6A.69.66.61.6E.67 (hex)]

说明：节点的索引59952681.210.1，分三部分，第一部分59952681表示LLDP发现对端设备的时间戳，第二部分210表示本端接口的逻辑端口号（逻辑端口号与端口索引之间的关系参考dot1dBasePortIfIndex，1.3.6.1.2.1.17.1.4.1.2），第三部分1表示远端设备索引，对端设备名称为zhongxinjifang。

当发现一个端口有多个相同邻居时，根据节点索引中的时间戳，以时间戳大的值为准。



### 设备端口

通过LLDP获取对端设备端口：lldpRemPortId

节点OID值:1.0.8802.1.1.2.1.4.1.1.7

获取对端设备端口：

1: lldpRemPortId.59952681.210.1 (octet string) Ten-GigabitEthernet1/6/0/4

说明：节点的索引59952681.210.1，分三部分，第一部分59952681表示LLDP发现对端设备的时间戳，第二部分210表示本端接口的逻辑端口号（逻辑端口号与端口索引之间的关系参考dot1dBasePortIfIndex，1.3.6.1.2.1.17.1.4.1.2），第三部分1表示远端设备索引，对端设备端口为Ten-GigabitEthernet1/6/0/4。

当发现一个端口有多个相同邻居时，根据节点索引中的时间戳，以时间戳大的值为准。



### 设备mac地址

通过LLDP获取对端设备MAC：lldpRemChassisId

节点OID值：1.0.8802.1.1.2.1.4.1.1.5

获取对端设备MAC：

1: lldpRemChassisId.59952681.210.1 (octet string) 38.22.D6.59.DA.00 (hex)

说明：节点的索引59952681.210.1，分三部分，第一部分59952681表示LLDP发现对端设备的时间戳，第二部分210表示本端接口的逻辑端口号（逻辑端口号与端口索引之间的关系参考dot1dBasePortIfIndex，1.3.6.1.2.1.17.1.4.1.2），第三部分1表示远端设备索引，对端设备MAC为38.22.D6.59.DA.00。

当发现一个端口有多个相同邻居时，根据节点索引中的时间戳，以时间戳大的值为准。



### 设备IP

通过LLDP获取对端设备IP：lldpRemManAddrIfId

节点OID值:1.0.8802.1.1.2.1.4.2.1.4

获取对端设备IP

1: lldpRemManAddrIfId.59952681.210.1.1.4.3.1.1.1 (integer) 201

说明：索引59952681.210.1.1.4.3.1.1.1分9个部分，其中的第一部分59952681表示时间戳，第二部分210表示本端接口的逻辑端口号（逻辑端口号与端口索引之间的关系参考dot1dBasePortIfIndex，1.3.6.1.2.1.17.1.4.1.2），第三部分1表示远端设备索引，最后4部分3.1.1.1就是对端设备IP地址3.1.1.1。节点的值201表示对端设备的接口索引（参考节点ifDescr，OID：1.3.6.1.2.1.2.2.1.2）。

当发现一个端口有多个相同邻居时，根据节点索引中的时间戳，以时间戳大的值为准。